<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009"
               xmlns:s="library://ns.adobe.com/flex/spark">
    <fx:Script>
		<![CDATA[
        import my.patterns.Dog;
        import my.patterns.Cat;
        import my.patterns.Duck;
        import my.patterns.Animal;

        private var animals:Array = [];

        protected function addAnimalButton_clickHandler(event:MouseEvent):void {
            if (larryRadio.selected)
                animals.push(new Cat());
            else if (moeRadio.selected)
                animals.push(new Duck());
            else
                animals.push(new Dog());
        }

        protected function animalSayButton_clickHandler(event:MouseEvent):void {
            textArea.text = null;
            for each (var role:Animal in animals) {
                textArea.appendText(role.say());
            }
        }
        ]]>
	</fx:Script>

    <s:layout>
        <s:VerticalLayout/>
    </s:layout>

    <s:FormItem label="Choose object type">
        <s:RadioButton id="larryRadio" label="Larry" groupName="g" selected="true"/>
        <s:RadioButton id="moeRadio" label="Moe" groupName="g"/>
        <s:RadioButton id="curlyRadio" label="Curly" groupName="g"/>
    </s:FormItem>
    <s:Button id="addObjectButton" label="Add object" click="addAnimalButton_clickHandler(event)"/>
    <s:Button id="slapStickButton" label="Slap stick" click="animalSayButton_clickHandler(event)"/>
    <s:TextArea width="100%" id="textArea" height="300"/>
</s:Application>
